<div class="mask"></div>
<a href="javascript:void(0);" class="close"></a>	
<div class="popWrap">
	<div class="popup">
		<div class="popHeader">
			<b class="tit">CURAON 의뢰하기</b>
		</div>
		<div class="popBody">
			<div class="popRequestWorkFormArea">
				<div class="padding">
					<!-- popLayoutType1 -->
					<div class="popLayoutType1">
						<!-- leftArea -->
						<div class="leftArea">
							<!-- input_list -->
							<div class="inputList">
								<div class="inputBox">
									<p class="titType4"><b>제목</b></p>
									<div class="inpType1">
										<input type="text">
									</div>
								</div>
								<div class="inputBox">
									<p class="titType4"><b>의뢰할 작품 유형</b></p>
									<div class="selectType1">
										<span class="design">Family Site</span>
										<select name="" id="">
											<option value="">유화</option>
											<option value="">Family Site2</option>
										</select>
									</div>						
								</div>
								<div class="inputBox">
									<p class="titType4"><b>예산</b><span class="sTxt">작품 최소 금액은 100,000원 입니다.</span></p>
									<div class="inpType1">
										<div class="cellbox">
											<div class="cell auto">
												<input type="text">
											</div>
											<div class="cell unit">원</div>
										</div>
									</div>
								</div>					
								<div class="inputBox">
									<p class="titType4"><b>작업 방식 선택</b>
										<span class="right"><a href="#none" class="txtlink"><span>커머션 작업이란?</span></a></span>
									</p>
									<div class="inputChkBox">
										<div class="cellbox cell2">
											<div class="cell">
												<label class="inpRadio">
													<span class="inp"><input type="radio" name="method" checked><span class="ic"></span></span>
													<span class="txt">커머션 작업</span>
												</label>
											</div>
											<div class="cell">
												<label class="inpRadio">
													<span class="inp"><input type="radio" name="method"><span class="ic"></span></span>
													<span class="txt">완성된 작업</span>
												</label>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- // input_list -->
							
							<!-- photoAddListBox -->
							<div class="photoAddListBox">
								<p class="titType4"><b>공간 OR 대상사진</b>
									<span class="sTxt">작품이 설치될 위치의 정면사진과 공간의 분위기를 예측할 수 있는 사진 혹은 작품화 할 대상의 사진을 올려주세요</span>
								</p>
								<div class="photoAddList" id="photoAddListSlider">
									<div class="photoAddBtn">
										<input type="file" accept=".png, .jpg, .jpeg" required="required"  />
										<a href="javascript:void(0);">
											<i></i><span>사진 추가하기</span>
										</a>
									</div>
									<div class="swiper-container">
										<ul class="swiper-wrapper">
											<li class="swiper-slide">
												<a href="javascript:void(0);" class="delete"></a>
												<a href="javascript:void(0);" class="work">
													<div class="img"><img src="../images/temp/temp_artWorkList2_1.png" alt="" /></div>
												</a>
											</li>
											<li class="swiper-slide">
												<a href="javascript:void(0);" class="delete"></a>
												<a href="javascript:void(0);" class="work">
													<div class="img"><img src="../images/temp/temp_artWorkList_1.png" alt="" /></div>
												</a>
											</li>
											<li class="swiper-slide">
												<a href="javascript:void(0);" class="delete"></a>
												<a href="javascript:void(0);" class="work">
													<div class="img"><img src="../images/temp/temp_requestWorkList_1.png" alt="" /></div>
												</a>
											</li>
											<li class="swiper-slide">
												<a href="javascript:void(0);" class="delete"></a>
												<a href="javascript:void(0);" class="work">
													<div class="img"><img src="../images/temp/temp_artWorkList2_1.png" alt="" /></div>
												</a>
											</li>
											<li class="swiper-slide">
												<a href="javascript:void(0);" class="delete"></a>
												<a href="javascript:void(0);" class="work">
													<div class="img"><img src="../images/temp/temp_artWorkList_1.png" alt="" /></div>
												</a>
											</li>
											<li class="swiper-slide">
												<a href="javascript:void(0);" class="delete"></a>
												<a href="javascript:void(0);" class="work">
													<div class="img"><img src="../images/temp/temp_requestWorkList_1.png" alt="" /></div>
												</a>
											</li>
										</ul>
									</div>
								
								</div>
							</div>
							<!-- // photoAddListBox -->
							
							<!-- requestWorkSetting -->												
							<div class="requestWorkSetting">
								<script src="../js/jquery.Jcrop.js"></script>
								<link rel="stylesheet" href="../css/jquery.Jcrop.css" type="text/css" />
															
								<script type="text/javascript">
		
										var boxw = Number($('#boxW').val())
										var boxh = Number($('#boxH').val())
										var imgw = Number($('#imgW').val())
										var imgh = Number($('#imgH').val())
									
										var jcrop_api;
		
										var resizeId;
										$(window).resize(function(){
											clearTimeout(resizeId);
											if(undefined != undefined){
												jcrop_api.destroy();
												$('.imgSetting img').attr('style', '');
												resizeId =setTimeout(initJcrop,500);
											}
										});
		
										function initJcrop(){
										
											$('#targetImg').Jcrop({
												onChange:   showCoords,
												onSelect:   showCoords,
												onRelease:  clearCoords       
											},function(){
										
												jcrop_api = this;
												
												var posX = $('#targetImg').width()/4;
												var posY = $('#targetImg').height()/4;
		
												jcrop_api.setSelect([posX, posY, posX*3,posY*3]);
												// jcrop_api.animateTo([posX, posY, posX*3,posY*3]);
												jcrop_api.setOptions({ allowSelect: true, bgOpacity:1 });
												
												boxw = Number($('#boxW').val())
												boxh = Number($('#boxH').val())
												$('.jcrop-holder > div').eq(0).prepend('<div class="size">'+boxw +' X ' + boxh+'</div>');
												$('.jcrop-holder > div > div > img').css('opacity', '0');
										
											});
		
											setBoxSize();
									
										};
		
										function releaseCheck()
										{
										jcrop_api.setOptions({ allowSelect: false, bgOpacity:1 });
										};
		
										$('input').on('change', function(e){
										var x1 = $('#x1').val(),
											x2 = $('#x2').val(),
											y1 = $('#y1').val(),
											y2 = $('#y2').val();
											w = $('#boxW').val();
											h = $('#boxH').val();
									
											var cw = (boxw - w)/2;
											var ch = (boxh - h)/2;
											var posX = Number(x1) + cw ;
											var posX2 = Number(x2) - cw;
											var posY = Number(y1) + ch;
											var posY2 = Number(y2) - ch;
									
											
										jcrop_api.setSelect([posX,posY,posX2,posY2]);
										//jcrop_api.animateTo([x1,y1,x2,y2]);
									
										boxw = Number(w)
										boxh = Number(h)
										});
										
									function showCoords(c)
									{
										$('#x1').val(c.x);
										$('#y1').val(c.y);
										$('#x2').val(c.x2);
										$('#y2').val(c.y2);
										$('#boxW').val(c.w);
										$('#boxH').val(c.h);
									
										w = $('#boxW').val();
										h = $('#boxH').val();        
										//$('.jcrop-holder > div > div .jcrop-tracker').css({'font-size':'30px', 'font-weight':'bold', 'color':'#999', 'text-align':'center'})
										
										$('.jcrop-holder .size').text(w + ' X ' + h);
									
										boxw = Number($('#boxW').val());
										boxh = Number($('#boxH').val());
		
										setBoxSize();
									};
								
									function clearCoords()
									{
									$('#coords input').val('');
									};
									
									
									function requestImgSize(){
										imgw = $('#targetImg').width();
										imgh = $('#targetImg').height();
										$('#imgW').val(imgw);
										$('#imgH').val(imgh);
									}
		
									function setBoxSize(){
										requestImgSize();
		
										var boxWPer = Number((boxw / imgw *100).toFixed(0));
										var boxHPer = Number((boxh / imgh *100).toFixed(0));
										var boxPosX = Number((Number($('#x1').val()) / imgw * 100).toFixed(0));
										var boxPosY = Number((Number($('#y1').val()) / imgh * 100).toFixed(0));
		
										$('#boxWPer').val(boxWPer);
										$('#boxHPer').val(boxHPer);
										$('#xPer').val(boxPosX);
										$('#yPer').val(boxPosY);
		
										console.log(boxWPer, boxHPer, boxPosX, boxPosY); // 작품제안하기에서 사용할값
									}
		
								</script>
									  
								<div class="imgSetting">
									<img src="../images/temp/temp_workDetail.png" id="targetImg" alt=""/>
								</div>
		
								<div class="imgSettingMenu">
									<a href="#none" class="txtlink"><span>사이즈는 어떻게 정하나요?</span></a>
									<div class="inputList cellbox cell2">
										<div class="inputBox cell">
											<p class="titType4"><b>가로 사이즈</b></p>
											<div class="inpType1">
												<div class="cellbox">
													<div class="cell auto">
														<input type="text" id="boxW" name="w">
													</div>
													<div class="cell unit">px</div>
												</div>
											</div>
										</div>
										<div class="inputBox cell">
											<p class="titType4"><b>세로 사이즈</b></p>
											<div class="inpType1">
												<div class="cellbox">
													<div class="cell auto">
														<input type="text" id="boxH" name="h">
													</div>
													<div class="cell unit">px</div>
												</div>
											</div>						
										</div>								
									</div>
									<div class="setting_hidden">
											<!-- 박스위치 -->
											x<input type="text" size="4" id="x1" name="x1" />
											y<input type="text" size="4" id="y1" name="y1" />
											x2<input type="text" size="4" id="x2" name="x2" />
											y2<input type="text" size="4" id="y2" name="y2" />
		
											<!-- 이미지 너비 -->
											imgw<input type="text" size="4" id="imgW" />
											imgh<input type="text" size="4" id="imgH" />
		
											<!-- 박스너비  % -->
											boxWPer<input type="text" size="4" id="boxWPer" />
											boxHPer<input type="text" size="4" id="boxHPer" />
		
											<!-- 위치  % -->
											xPer<input type="text" size="4" id="xPer" />
											yPer<input type="text" size="4" id="yPer" />
										</div>								
								</div>
							</div>
							<!-- // requestWorkSetting -->
							<!-- requestInput -->
							<div class="requestInput">
								<p class="titType4"><b>작품 리퀘스트 배경 요청사항</b></p>
								<div class="textarea">
									<textarea>
		서울 성수동 아파트에 살고 있는 60대 주부입니다. 최근 둘째 아들이 결혼을 하고 부부만 남 게 되었습니다. 남편은 의료기 분야 사업을 40년 이상 진행하고 있고, 부부동반 사교 모임이 많은데 최근 국내 아트 컬렉터 모임에 초대된 적이 있습니다. 현대미술이나 아트 컬렉터라고 하면 대규모의 자금이 오가는 ‘큰 손’ 모임이라고 생각했었는데 200, 300만원 대 작품도 다양 한 것을 보고 놀랐습니다. 그리고 한국 젊은 작가 중에서도 좋은 작품이 정말 많더라구요.
		아들의 출가로 집이 썰렁해졌는데 거실에 집안 분위기를 살릴 수 있는 작품이 있었으면 좋겠 습니다. 아파트는 40평형 대 일반 주상복합 아파트인데 베란다를 터서 개조했습니다. 지금까 지는 강아지를 키우고 있어서 인테리어에 그렇게 신경을 쓰지 못했습니다. 벽은 아이보리 계열에 깔끔한 편입니다. 거실에 홈시어터 시스템이 있고 바닥은 원목, 커튼과 소파는 그린 계 열인데 사진을 보내드리면 톤에 맞춰서 작품을 추천하거나 제작이 가능한지 궁금합니다. 거실 벽은 3m * 2.5m 정도의 사이즈고, 가격대는 일단 300만원대 안팎으로 생각하고 있습니다. 집안 분위기에 맞춰서 큰 사이즈의 그림을 새로 제작할 경우도 그 가격대 맞출 수 있는지도 궁금합니다.</textarea>
								</div>
							</div>
							<!-- // requestInput -->
		
							<!-- photoAddListBox -->
							<div class="photoAddListBox">
								<p class="titType4"><b>참고 이미지</b>
									<span class="sTxt">작품 스타일에 참고할만한 작품이나 레퍼런스 이미지를 올려주세요.</span>
								</p>
								<div class="photoAddList" id="photoAddListSlider2">
									<div class="photoAddBtn">
										<input type="file" accept=".png, .jpg, .jpeg" required="required"  />
										<a href="javascript:void(0);">
											<i></i><span>사진 추가하기</span>
										</a>
									</div>
									<div class="swiper-container">
										<ul class="swiper-wrapper">
											<li class="swiper-slide">
												<a href="javascript:void(0);" class="delete"></a>
												<a href="javascript:void(0);" class="work">
													<div class="img"><img src="../images/temp/temp_artWorkList_1.png" alt="" /></div>
												</a>
											</li>
										</ul>
									</div>
								</div>
							</div>
							<!-- // photoAddListBox -->
		
							<!-- requestInput -->
							<div class="requestInput">
								<p class="titType4"><b>선호하는 스타일 설명</b><span class="sTxt">최대한 자세하게 공간에 대해 설명해주세요. 예시) 이러한 스타일을 원합니다.</span></p>
								<div class="textarea">
									<textarea>서울 성수동 아파트에 살고 있는 60대 주부입니다. 최근 둘째 아들이 결혼을 하고 부부만 남 게 되었습니다. 남편은 의료기 분야 사업을 40년 이상 진행하고 있고, 부부동반 사교 모임이 많은데 최근 국내 아트 컬렉터 모임에 초대된 적이 있습니다. 현대미술이나 아트 컬렉터라고 하면 대규모의 자금이 오가는 ‘큰 손’ 모임이라고 생각했었는데 200, 300만원 대 작품도 다양 한 것을 보고 놀랐습니다. 그리고 한국 젊은 작가 중에서도 좋은 작품이 정말 많더라구요.</textarea>
								</div>
							</div>
							<!-- // requestInput -->
							
							<div class="btnBox alignR">
								<a href="javascript:void(0);" class="btnType1 btn1"><span>등록</span></a>
							</div>
						</div>
						<!-- // leftArea -->
						<!-- rightArea -->
						<div class="rightArea mHide">
							<!-- notiBanner -->
							<div class="notiBanner">
								<div class="descBox">
									<div class="text">공간에 대한 정보를 자세하게 입력할수록 
											더 많은 작품을 추천 받으실 수 있습니다.</div>
									<div class="linkList">
										<a href="#none" class="more"><span>더보기</span><i></i></a>
										<p class="titType5"><b class="tit">자주 묻는 질문</b></p>
										<ul class="list">
											<li><a href="javascript:void(0);">비회원도 주문할 수 있나요?</a></li>
											<li><a href="javascript:void(0);">결제방법은 어떤것이 있나요?</a></li>
											<li><a href="javascript:void(0);">상품 배송확인은 어떻게 하나요?</a></li>
											<li><a href="javascript:void(0);">주문 취소를 하고 싶어요.</a></li>
											<li><a href="javascript:void(0);">상품이 불량입니다. 어디에 문의하나요?</a></li>
											<li><a href="javascript:void(0);">여러개의 작품 중 일부만 취소할 수 있나요?</a></li>							
										</ul>
									</div>
								</div>
								<div class="btn">
									<a href="javascript:void(0);">큐레이터에게 문의하기</a>
								</div>
							</div>
							<!-- // notiBanner -->
						</div>
						<!-- // rightArea -->
		
					</div>
					<!-- // popLayoutType1 -->
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	function requestWorkFormCallback(){
		initJcrop();
		photoAddListSlider('#photoAddListSlider');
		photoAddListSlider('#photoAddListSlider2');				
	}
</script>